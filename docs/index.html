<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="de-DE">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="de-DE">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html style="height: 100%;" lang="de-DE"><!--<![endif]-->
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>General Illumination durch RGB LEDs ersetzen | Pinball Mods – lets pimp your pinball machine</title>
    <style type="text/css">
        img.wp-smiley,
        img.emoji {
            display: inline !important;
            border: none !important;
            box-shadow: none !important;
            height: 1em !important;
            width: 1em !important;
            margin: 0 .07em !important;
            vertical-align: -0.1em !important;
            background: none !important;
            padding: 0 !important;
        }
    </style>
    <link rel="stylesheet" id="style.css-css" href="Dateien/style.css" type="text/css" media="all">
    <link rel="stylesheet" id="twentythirteen-fonts-css" href="Dateien/css.css" type="text/css" media="all">
    <link rel="stylesheet" id="genericons-css" href="Dateien/genericons.css" type="text/css" media="all">
    <link rel="stylesheet" id="twentythirteen-style-css" href="Dateien/style_002.css" type="text/css" media="all">
</head>

<body class="single single-post postid-10 single-format-standard cookies-not-set single-author sidebar"
      style="position: relative; min-height: 100%; top: 0px;">
<div id="page" class="hfeed site">
    <div id="main" class="site-main">

        <div id="primary" class="content-area">
            <div id="content" class="site-content" role="main">


                <article id="post-10"
                         class="post-10 post type-post status-publish format-standard hentry category-allgemein">
                    <header class="entry-header">

                        <h1 class="entry-title">General Illumination durch RGB LEDs ersetzen</h1>

                        <div class="entry-meta">
                            <span class="date"><a
                                    href="https://pinball-mods.de/2015/08/27/general-illumination-durch-rgb-leds-ersetzen/"
                                    title="Permanentlink zu General Illumination durch RGB LEDs ersetzen"
                                    rel="bookmark"><time class="entry-date" datetime="2015-08-27T07:01:06+00:00">27. August 2015</time></a></span><span
                                class="categories-links"><a href="https://pinball-mods.de/category/allgemein/"
                                                            rel="category tag">Allgemein</a></span><span
                                class="author vcard"><a class="url fn n" href="https://pinball-mods.de/author/steve45/"
                                                        title="Zeige alle Artikel von steve45" rel="author">steve45</a></span>
                        </div><!-- .entry-meta -->
                    </header><!-- .entry-header -->

                    <div class="entry-content">
                        <div class="moz-text-flowed" lang="x-unicode">
                            <p>Einer meiner neusten Ideen war es die general Illumination (GI) eines Pins durch eine
                                RGB-LED-Lichterkette zu ersetzen.</p>
                            <p>Diese RGB Lichterketten haben typischerweise 50 Stück 7mm LEDs mit
                                integriertem WS2812 Controller und sind für wenig Geld bei Ebay oder
                                beim China-Store Deiner Wahl zu finden.<a
                                        href="Dateien/Bildschirmfoto-vom-2015-08-27-071707.png"><img
                                        class="size-medium wp-image-14 alignright"
                                        src="Dateien/Bildschirmfoto-vom-2015-08-27-071707-300x263.png"
                                        alt="Bildschirmfoto vom 2015-08-27 07:17:07" width="300" height="263"></a></p>
                            <p>Die einzelnen LEDs sind über einen 3 Draht Bus verbunden und unten
                                vergossen. Der 3 Draht Bus besteht aus +5V, Masse und Data-In bzw. Out.
                                Die LEDs sind werden einfach aneinander gereiht, wobei immer DataOut der
                                einen LED mit dem DataIn der&nbsp;nächsten verbunden ist.</p>
                            <p>Von den Abmessungen passen die LEDs mit Gehäuse fast perfekt in der
                                Löcher des Playfields wo bisher die GI-Fassungen angeschraubt oder
                                festgetackert sind.</p>
                            <p>Bei Lampen die nahe genug beieinander liegen, können die LEDs direkt eingesetzt werden.
                                <a href="Dateien/20150826_222619.geaendert.jpg"><img
                                        class="size-medium wp-image-18 alignright" src="Dateien/20150826_222619.jpg"
                                        alt="20150826_222619.geaendert" width="300" height="169"></a><a
                                        href="Dateien/20150826_222717.geaendert.jpg"><img
                                        class="size-medium wp-image-19 alignright" src="Dateien/20150826_222717.jpg"
                                        alt="20150826_222717.geaendert" width="300" height="169"></a>Lampen,
                                die weiter von einander entfernt sind, brauchen eine „Verlängerung“ des
                                3 Draht Busses. Hierzu wird die 3 Draht Verbindung aufgetrennt und ein 3
                                Draht Litzenelement<br>
                                passender Länge eingesetzt. Dabei muss immer auf die „Richtung“ von
                                DataIn -&gt; DataOut geachtet werden. Was bei der ersten LED
                                als&nbsp;DataOut rauskommt, geht bei der nächsten als DataIn wieder
                                rein.</p>
                            <p>Von dieser Seite ist der weisse Anschluss DataIn erkennbar am weissen
                                Pfeil. Auf der anderen Seite gehts mit DataOut wieder weiter.<br>
                                <a href="Dateien/20150826_222444.geaendert.jpg"><img
                                        class="size-medium wp-image-17 aligncenter" src="Dateien/20150826_222444.jpg"
                                        alt="20150826_222444.geaendert" width="300" height="169"></a></p>
                            <p>Es empfiehlt sich die LED-Kette in einem Kreis aussen herum
                                anzuordnen beispielsweise beginnend vom linken Slingshot links nach
                                oben, oben herum und dann auf der rechten Seite bis zum rechten
                                Slingshot wieder herunter.</p>
                            <p>Mit dieser Anordnung sind Farbwechsel, die herumwandern ohne extra
                                Aufwand in der Software zu realisieren. Anmerkung: der aktuelle
                                Software-Stand sieht sowieso noch ein Mapping des Lampen-Index vor, so
                                dass die Anordnung auf dem Playfield völlig unabhängig ist, von den
                                Effekten die man haben möchte. Schlussfolgerung ist also man sollte die
                                Anordnung so wählen, dass es für die Montage unter dem Playfield
                                möglichst problemlos ist, muss dann aber ggf. das Mapping anpassen.</p>
                            <p>Am besten zeichnet mal einen Plan des Playfields (oder kopiert einen
                                aus dem Manual) und zeichnet durch die nummerierten LEDs ein. (siehe
                                unten)</p>
                            <p>Für die Stromversorgung empfehle ich ein separates 5V Netzteil mit
                                4-6A wie es sie für wenig Geld im Handel gibt. Am günstigsten sind
                                Steckernetzteile mit 4A z.B. von <a
                                        href="https://www.pollin.de/shop/dt/MDY0ODQ2OTk-/Stromversorgung/Netzgeraete/Steckernetzgeraete/Steckernetzteil_QUATPOWER_PSN5_4000H5_5_5_V_4_A_5_5_2_1_mm.html"
                                        target="_blank">Pollin</a>, die bereits für weniger als 10&nbsp;€ zu haben sind.
                                Angeschlossen wer<a href="Dateien/20150826_223918.geaendert.jpg"><img
                                        class="size-medium wp-image-20 alignright" src="Dateien/20150826_223918.jpg"
                                        alt="20150826_223918.geaendert" width="300" height="169"></a>den
                                diese Steckernetzteile über einen Mehrfachstecker, der zusammen mit dem
                                Flipper eingeschaltet wird, oder – wenn man es professioneller mag –
                                über eine zusätzliche&nbsp;Netzkupplung oder Netzstecker, der zusammen
                                mit dem Hauptschalter des Flipper ein- und ausgeschaltet wird. Ausserdem
                                haben diese Netzteil auch gleich den richtigen Anschluss für den
                                Arduino.</p>
                            <p>Eine ersten Eindruck wie die LEDs wirken, sieht man in dem Video.</p>
                        </div>
                        <p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/5zINuRn9pe8"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            <br>
                            Hier wird aber zunächst mal nur eine sich wiederholende „Lightshow“
                            abgespult, die nicht in irgendeiner Form mit dem Spielgeschehen zu tun
                            hat. Hierzu muss zusätzlicher „Input“ vom Pin geholt und die Software
                            entsprechend angepasst werden.
                        </p>
                        <h2 class="western">Anschlüsse der Switch-Matrix</h2>
                        <p><a href="Dateien/cn8.png"><img class="size-medium wp-image-26 aligncenter"
                                                          src="Dateien/cn8-300x186.png" alt="cn8" width="300"
                                                          height="186"></a></p>
                        <p><a href="Dateien/cn10.png"><img class="size-medium wp-image-27 aligncenter"
                                                           src="Dateien/cn10-300x181.png" alt="cn10" width="300"
                                                           height="181"></a><a href="Dateien/cn-both.png"><img
                                class="aligncenter wp-image-28 size-full" src="Dateien/cn-both.png" alt="cn-both"
                                width="539" height="345"></a>Resources:</p>
                        <ul>
                            <li><a href="https://www.pinwiki.com/wiki/index.php?title=Data_East/Sega">//www.pinwiki.com/wiki/index.php?title=Data_East/Sega</a>
                            </li>
                            <li><a href="https://illinoispinball.webs.com/schematics.htm">//illinoispinball.webs.com/schematics.htm</a>
                            </li>
                        </ul>
                        <h2 class="western">Switch Schematics for Data East</h2>
                        <p><a href="Dateien/schematics.png"><img class="aligncenter wp-image-29 size-full"
                                                                 src="Dateien/schematics.png" alt="schematics"
                                                                 width="1024" height="488"></a></p>
                        <p>Wie man sieht arbeitet der Column Driver with +5V als inactive
                            Potential durch den Pullup von 1K an +5V. Bei Aktivierung der Spalte
                            schaltet der Spalten-Transistor nach Masse durch (active low pulse).</p>
                        <p>Angesteuert wird der Spalten-Transistor durch den 6821 PIA und den LS244 Treiber.</p>
                        <p>Ist ein Schalter aktiviert (geschlossen), dann kommt für diesen
                            Schalter der LOW-Impuls auf der entsprechenden Row bei Switch Return
                            wieder an, werden von den 4011er verstärkt, invertiert und über den
                            B-Port des 6821 wieder gelesen.</p>
                        <h2 class="western">Timing</h2>
                        <p>Der LOW-Impuls vom Column Strobe ist knapp ms lang dann kommen ca 6ms Pause und dann
                            wiederholt sich das ganze.</p>
                        <p>Hier ein paar Aufnahmen mit dem Logikanalyser:</p>
                        <p align="center"><a href="Dateien/timing1.png"><img class="aligncenter wp-image-31 size-full"
                                                                             src="Dateien/timing1.png" alt="timing1"
                                                                             width="639" height="191"></a>Ch1: Column2
                            Strobe, Ch2: Row1 Return, Ch3: Row2 Return</p>
                        <p align="center"><a href="Dateien/timing2.png"><img class="aligncenter wp-image-32 size-full"
                                                                             src="Dateien/timing2.png" alt="timing2"
                                                                             width="900" height="223"></a>Ch1: Col1
                            Strobe, Ch2: Col2 Strobe, Ch3: Col3 Strobe</p>
                        <p align="left">Die Switch-Matrix wird also mit einer Frequenz von 135Hz abgefragt.</p>
                        <p align="left">Um das nun mit dem Arduino sauber mit zu bekommen,
                            brauchen wir einen Interrupt, der mit dem ersten Col-Strobe getriggert
                            und damit syncronisiert wird.</p>
                        <h2 class="western">Nummern der Switches</h2>
                        <p align="left"><a href="Dateien/switch-matrix-lw3.png"><img
                                class="aligncenter wp-image-30 size-full" src="Dateien/switch-matrix-lw3.png"
                                alt="switch-matrix-lw3" width="989" height="620"></a></p>
                        <p align="left"><a href="Dateien/PlayfieldSwitches.png"><img
                                class="aligncenter wp-image-30 size-full" src="Dateien/PlayfieldSwitches.png"
                                alt="switch-matrix-lw3" width="989" height="620"></a></p>
                        <p align="left">Das Firmware zählt Zeilen und Spalten ab 0 daher sind die Indices im Programm
                            immer eins weniger.</p>
                        <p align="left">Notation Col|Row Manual → Col|Row Arduino am Beispiel von Column 2</p>
                        <table width="100%" cellspacing="0" cellpadding="4">
                            <tr valign="top">
                                <th>
                                    <p align="left"><b>Name</b></p>
                                </th>
                                <th>
                                    <p align="left"><b>Col|Row<br>Data East</b></p>
                                </th>
                                <th>
                                    <p align="left"><b>Col|Row<br>Arduino</b></b></p>
                                </th>
                            </tr>
                            <tr valign="top">
                                <td>
                                    <p align="left">Launch Trigger</p>
                                </td>
                                <td>
                                    <p align="left">2|1</p>
                                </td>
                                <td>
                                    <p align="left">1|0</p>
                                </td>
                            </tr>
                            </tr>
                            <tr valign="top">
                                <td>
                                    <p align="left">Outhole</p>
                                </td>
                                <td>
                                    <p align="left">2|2</p>
                                </td>
                                <td>
                                    <p align="left">1|1</p>
                                </td>
                            </tr>
                            <tr valign="top">
                                <td>
                                    <p align="left">Trough #1 Left</p>
                                </td>
                                <td>
                                    <p align="left">2|3</p>
                                </td>
                                <td>
                                    <p align="left">1|2</p>
                                </td>
                            </tr>
                            <tr valign="top">
                                <td>
                                    <p align="left">Trough #2 Center</p>
                                </td>
                                <td>
                                    <p align="left">2|4</p>
                                </td>
                                <td>
                                    <p align="left">1|3</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p align="left">Trough #3 Right</p>
                                </td>
                                <td>
                                    <p align="left">2|5</p>
                                </td>
                                <td>
                                    <p align="left">1|4</p>
                                </td>
                            <tr>
                                <td>
                                    <p align="left">Shooter Lane</p>
                                </td>
                                <td>
                                    <p align="left">2|6</p>
                                </td>
                                <td>
                                    <p align="left">1|5</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p align="left">Left Flipper EOS</p>
                                </td>
                                <td>
                                    <p align="left">2|7</p>
                                </td>
                                <td>
                                    <p align="left">1|6</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p align="left">Right Flipper EOS</p>
                                </td>
                                <td>
                                    <p align="left">2|8</p>
                                </td>
                                <td>
                                    <p align="left">1|7</p>
                                </td>
                            </tr>
                        </table>
                        <h2 class="western">Ansteuerung des Arduino</h2>
                        <p>Basierend auf dem Timing von oben wurde folgendes Testprogramm
                            entworfen: der Col-Strobe1 triggert den Interrupt 0 auf Pin2, dann wird
                            ein Timer gestartet, der genau die gleiche Frequenz hat wir der Abfrage
                            Takt der Col-Strobes. Bei jedem Timer-Interrupt wird dann das
                            Row-Register PORTA beim Mega gelesen und in eine byte Matrix
                            geschrieben.</p>
                        <p>Jetzt kann man einfache SwitchHandler auf einen bestimmten Schalter
                            registrieren und daraus Aktionen ableiten. z.B. die Bälle in der Ball
                            Truhe zählen → 3 Bälle länger als 5 Sekunden → Game over / Attract Mode,
                            kein Ball drin → Multiball-Spiel.</p>
                        <h2 class="western">Plan der GI-Lampen</h2>
                        <p>Beim Erstellen des Programms muß man natürlich wissen, welche Lampe
                            wo ist. Dafür hab ich ein kleines Testprogramm geschrieben welches die
                            Lampen einzeln auf Tastendruck einschaltet und die Position auf der
                            seriellen Schnittstelle ausgibt. Damit lässt sich folgender Plan
                            erstellen:</p>
                        <p><a href="Dateien/Lw3-pf-gi-web.jpg"><img class="aligncenter wp-image-39 size-large"
                                                                    src="Dateien/Lw3-pf-gi-web-724x1024.jpg"
                                                                    alt="Lw3-pf-gi-web" width="604" height="854"></a>
                        </p>
                        <h2 class="western">Firmware</h2>
                        <p>Die Software für den Controller findet sich auf <a
                                href="https://github.com/sker65/pinball-lw3" target="_blank">Github</a>. Der Aufbau der
                            Software sieht ungefähr so aus:</p>
                        <h3 class="western">Verwendete Libraries</h3>
                        <p>Zum Ansteuern der LEDs wird FastLED genutzt, eingebettet in die Klasse
                            <strong>LEDDriver</strong>. Diese Klasse beherbergt die LED Kette und steuert die Farben mit
                            Hilfe von <strong>Effekten</strong>.</p>
                        <h3 class="western">Klassen</h3>
                        <p>Ein <strong>Effekt</strong> (Klasse) kennt eine Liste von LED Nummern
                            (oder Indices) für die der Effekt gilt, hat eine Prio und einen
                            Callback „updateLEDs()“ der die Farben der LEDs setzt.
                            Hintergrund-Effekte haben die Prio 0, Effekte mit grösserer Prio
                            übersteuern die mit kleineren Prio. Dies kann man nutzen, um bestimmte
                            LEDs aufblitzen zu lassen.</p>
                        <p>Effekte werde beim <strong>LEDDriver</strong> registiert, damit der Driver die Callbacks auch
                            aufrufen kann.</p>
                        <p>Zentrales Element der Steuerung ist der <strong>SwitchScanner</strong>. Diese Klasse kennt
                            ständig den Zustand alle Switches mit und kann <strong>SwitchActions</strong>
                            aufrufen. Eine SwitchAction registiert sich beim SwitchScanner unter
                            Angabe des Switches bei dem Action „gezündet“ werden soll. Ausserdem
                            kann man wählen, ob man <strong>regelmässig</strong> gerufen werden will oder nur wenn der
                            Switch sich <strong>ändert</strong>.</p>
                        <p>Mit dem regelmässigen Rufen überwacht man den Ball-Speicher und weiss dann immer, <em>wieviele
                            Bälle im Speicher</em> liegen.</p>
                        <p>Abhängig davon werden drei Hintergrund-Effekte aktiviert oder deaktiviert:
                            <strong>Attract</strong>, <strong>NormalPlay</strong> und <strong>MultiBallPlay</strong>.
                            Alle drei Effekte blenden unterschiedliche Paleletten&nbsp;hin und her.
                            Attrach ziemlich bunt mit einer Mischung von Paletten, NormalPlay nur
                            in Rot und Blau und MultiBall blinkt in Weiss.</p>
                        <p>Daneben sind noch weitere Effekte mit Prio 1 integriert: <strong>Flash</strong>,
                            ein Effekt der ein bestimmte Farbe für die definierten LEDs für ein
                            bestimmte Zeit übersteuert. Damit leuchten jedes Mal wenn der Ball an
                            die Slings geht die passenden LEDs auf.</p>
                        <p>Von diesen Effekten lassen sich sehr einfach auch noch andere Sachen realisieren.</p>
                        <h2 class="western">Und so sieht’s dann aus …</h2>
                        <p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/U9Ko0FyPtwg"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                        </p>
                        <p>Video Qualität ist noch suboptimal.</p>
                        <h2 class="western">Controller einbauen</h2>
                        <p>Die hier vorgeschlagene Lösung kommt völlig ohne zusätzliche
                            Beschaltung allein mit einem Arduino Mega aus, d.h. es ist nur die
                            Arduino in eine Gehäuse zu bauen.</p>
                        <p>Hierzu verwendet man z.B. ein einfaches ABS Gehäuse und setzt den Arduino auf
                            Platinen-Abstandshalter auf die Grundplatte.</p>
                        <p><a href="Dateien/20150908_172835.geaendert.jpg"><img
                                class="aligncenter wp-image-49 size-full" src="Dateien/20150908_172835.jpg"
                                alt="20150908_172835.geaendert" width="726" height="562"></a></p>
                        <p>Für die Anschlüsse werden in den weichen Kunststoff ohne viel Mühe
                            die passenden Ausschnitte geschnitten. Power-Anschluss und USB Stecker
                            auf der einen Seite und einen Platinen Stecker für ein Flachbandkabel
                            auf der anderen Seite. Der Platinen-Stecker wird in den Ausschnitt im
                            Gehäuse einfach eingeklebt.</p>
                        <p><a href="Dateien/20150908_183451_HDR.geaendert.jpg"><img
                                class="size-medium wp-image-55 alignnone" src="Dateien/20150908_183143.jpg"
                                alt="20150908_183143.geaendert" width="300" height="169"><img
                                class="size-medium wp-image-54 alignnone" src="Dateien/20150908_183451_HDR.jpg"
                                alt="20150908_183451_HDR.geaendert" width="300" height="169"></a></p>
                        <p>Anschliessend wird der Stecker nach innen verkabelt, um die
                            Verbindung zum Arduino herzustellen. Für die Anschlüsse zur DataEast-CPU
                            wird ein Adapter-Kabel benötigt, um die Signale für Column-Strobe und
                            Row-Return abzugreifen. Ausserdem sind die Signale zum Ansteuern der
                            RGB-LEDs nach aussen geführt.<br>
                            <a href="Dateien/20150908_211636.geaendert.jpg"><img
                                    class="alignnone size-medium wp-image-52" src="Dateien/20150908_211636.jpg"
                                    alt="20150908_211636.geaendert" width="300" height="205"></a>
                            <a href="Dateien/20150908_211613.geaendert.jpg"><img
                                    class="alignnone size-medium wp-image-51" src="Dateien/20150908_211613.jpg"
                                    alt="20150908_211613.geaendert" width="300" height="207"></a>
                            <a href="Dateien/20150908_215054.geaendert.jpg"><img
                                    class="alignnone size-medium wp-image-53" src="Dateien/20150908_215054.jpg"
                                    alt="20150908_215054.geaendert" width="300" height="224"></a>
                            <a href="Dateien/20150908_192200.geaendert.jpg"><img
                                    class="alignnone size-medium wp-image-50" src="Dateien/20150908_192200.jpg"
                                    alt="20150908_192200.geaendert" width="300" height="167"></a></p>
                        <p>Das letzte Bild zeigt das bereits komplett verbundene Innere. Dort
                            sind alle Verbindungen des Platinen-Steckers mit dem Arduino verbunden.</p>
                        <h2 class="western">Einbau</h2>
                        <p>Die folgenden Bilder zeigen, wie der Anschluss in der Backbox
                            erfolgt. Das Adapterkabel wird einfach per Zwischenstecker an CN10 bzw.
                            CN8 angeschlossen, um so alle Signale für die Switch-Matrix abzugreifen.
                            Zusätzlich wird noch ein Masse-Anschluss gebraucht.</p>
                        <p>Die Stromversorgung mit einem getrennten 5V – 4A Netzteil und die
                            Zuleitung der RGB LEDs vom Playfield kommen von unten aus dem Cabinet
                            und werden einfach eingesteckt.</p>
                        <p><a href="Dateien/20150909_083048.geaendert.jpg"><img
                                class="alignnone size-medium wp-image-57" src="Dateien/20150909_083048.jpg"
                                alt="20150909_083048.geaendert" width="300" height="169"></a> <a
                                href="Dateien/20150909_082923.geaendert.jpg"><img
                                class="alignnone size-medium wp-image-58" src="Dateien/20150909_082923.jpg"
                                alt="20150909_082923.geaendert" width="300" height="169"></a> <a
                                href="Dateien/20150909_082848.geaendert.jpg"><img
                                class="alignnone size-medium wp-image-59" src="Dateien/20150909_082848.jpg"
                                alt="20150909_082848.geaendert" width="300" height="169"></a> <a
                                href="Dateien/20150909_082807.geaendert.jpg"><img
                                class="alignnone size-medium wp-image-60" src="Dateien/20150909_082807.jpg"
                                alt="20150909_082807.geaendert" width="300" height="169"></a></p>
                        <h2 class="western">Schaltung</h2>
                        <p><a href="LW3_Sketch.png"><img class="alignnone size-medium wp-image-57" src="LW3_Sketch.png"
                                                         alt="LW3_Sketch" width="300" height="169"></a></p>
                        <h2 class="western">Material-Liste</h2>
                        <ul>
                            <li>
                                <a href="https://www.amazon.de/SainSmart-MEGA2560-Development-AT24C32-Compatible/dp/B00NA5JFFS">Arduino-Mega</a>:
                                18,00€
                            </li>
                            <li>
                                <a href="https://www.pollin.de/shop/dt/NTk5OTM1OTk-/Bauelemente_Bauteile/Gehaeuse/Kunststoffgehaeuse_021_002_033.html">Gehäuse</a>&nbsp;von
                                Pollin: 2,30€
                            </li>
                            <li>
                                <a href="https://www.pollin.de/shop/dt/MDY0ODQ2OTk-/Stromversorgung/Netzgeraete/Steckernetzgeraete/Steckernetzteil_QUATPOWER_PSN5_4000H5_5_5_V_4_A_5_5_2_1_mm.html">Netzteil</a>
                                von Pollin: 7,95€
                            </li>
                            <li>Anschluss fürs Netzteil im Cabinet: „geschlachtete“ <a
                                    href="https://www.pollin.de/shop/dt/OTY4OTQ0OTk-/Haustechnik/Kabel_Draehte_Litzen/Kabel_Leitungen/Euro_Verlaengerung.html">Euroverlängerung</a>&nbsp;2,00€
                            </li>
                            <li>RGB-LED String z.B. bei <a
                                    href="https://www.ebay.de/itm/DC-5V-FA-50PCS-WS2811-RGB-Full-Color-12mm-Pixels-digital-Addressable-LED-String-/111731865436?hash=item1a03bcf75c">Ebay</a>.
                                ca 20,00€
                            </li>
                            <li>Kleinteile: Stecker, Kabel, Stiftleisten ca. 8€</li>
                        </ul>
                        <p>Für ca.&nbsp;60€ Material-Kosten ist der Umbau also zu haben.&nbsp;Was man wie immer nicht
                            einrechnen darf, ist der Zeitaufwand <img src="Dateien/simple-smile.png" alt=":-)"
                                                                      class="wp-smiley"
                                                                      style="height: 1em; max-height: 1em;"></p>
                        <h2 class="western">Was ist noch zu tun …</h2>
                        <p>Die Software wird noch etwas optimiert oder ausgebaut:</p>
                        <ul>
                            <li>Konfiguration per Flipper-Buttons für verschiedene „Light-Modes“</li>
                        </ul>
                        <p>Und wer Lust hat, kann das ja nach bauen. Bei der Software Anpassung auf ein anderes
                            Flippermodell bin ich gerne behilflich.</p>
                        <p>Ein weiteres Video hier:</p>
                        <p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/HECmpmIj1Bk"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                        </p>
                        <h2 class="western">Bitte beachten</h2>
                        <p>Bei den Arbeiten an Flippern ist Vorsicht angebracht, bitte bei Arbeiten an den Geräten immer
                            vorher <strong>den Stecker ziehen</strong>. Unterm Playfield gibt’s im eingeschalteten
                            Zustand hohe Spannungen und ganz schnell hat man einen Kurzschluss fabriziert.</p>
                        <p>Im Zusammenhang mit dem <strong>Arduino</strong> muss man beachten, dass die Stromversorgung
                            des Arduinos / der LED-Strips immer <em>eingeschaltet</em> sein muss, <strong>bevor</strong>
                            man die USB Port zum Programmieren verbindet. Ansonsten ziehen die LED viel Strom über den
                            <strong>USB Port</strong>
                            und es kann irgendwas kaputt gehen, im schlimmsten Fall womöglich der
                            USB Port des Computers. Alternativ kann man natürlich auf die LEDs zum
                            Programmieren abtrennen.</p>
                        <h2 class="western">Referenzen</h2>
                        <ul>
                            <li><a href="https://www.flippermarkt.de/community/forum/showthread.php?t=160407"
                                   target="_blank">Flippermarkt-Thread</a></li>
                            <li>
                                <a href="https://pinside.com/pinball/forum/topic/update-arduino-shield-propin-pinhead/page/5"
                                   target="_blank">Pinside-Thread</a></li>
                            <li>Aus dem Pinside Thread speziell dieses <a
                                    href="https://docs.google.com/document/d/1q4ocskLaG9377kGTRL-7TVRDCNNiFv-U_TAz9zaoilE/edit"
                                    target="_blank">Dokument</a></li>
                        </ul>
                        <p>&nbsp;</p>
                    </div><!-- .entry-content -->

                    <footer class="entry-meta">

                    </footer><!-- .entry-meta -->
                </article><!-- #post -->
                <div id="comments" class="comments-area">

                    <h2 class="comments-title">
                        2 Gedanken zu „<span>General Illumination durch RGB LEDs ersetzen</span>“ </h2>

                    <ol class="comment-list">
                        <li id="comment-2" class="comment even thread-even depth-1 parent">
                            <article id="div-comment-2" class="comment-body">
                                <footer class="comment-meta">
                                    <div class="comment-author vcard">
                                        <img alt="" src="Dateien/0a4ca81f52752b133c772c1815befc79.jpg"
                                             srcset="https://secure.gravatar.com/avatar/0a4ca81f52752b133c772c1815befc79?s=148&amp;d=mm&amp;r=g 2x"
                                             class="avatar avatar-74 photo" width="74" height="74"> <b
                                            class="fn">Thomas</b> <span class="says">sagt:</span></div>
                                    <!-- .comment-author -->

                                    <div class="comment-metadata">
                                        <a href="https://pinball-mods.de/2015/08/27/general-illumination-durch-rgb-leds-ersetzen/#comment-2">
                                            <time datetime="2015-09-10T09:27:12+00:00">
                                                10. September 2015 um 9:27
                                            </time>
                                        </a>
                                    </div><!-- .comment-metadata -->

                                </footer><!-- .comment-meta -->

                                <div class="comment-content">
                                    <p>Damit du den Arduino oder den USB Host nicht mit dem LED Strom
                                        grillst solltest du die Spanungsversorgungen trennen. Weitere
                                        Fallstricke mit Arduinos sind hier beschrieben: <a
                                                href="http://www.ruggedcircuits.com/10-ways-to-destroy-an-arduino/"
                                                rel="nofollow">http://www.ruggedcircuits.com/10-ways-to-destroy-an-arduino/</a><br>
                                        Thomas</p>
                                </div><!-- .comment-content -->

                                <div class="reply"><a rel="nofollow" class="comment-reply-link"
                                                      href="https://pinball-mods.de/2015/08/27/general-illumination-durch-rgb-leds-ersetzen/?replytocom=2#respond"
                                                      onclick='return addComment.moveForm( "div-comment-2", "2", "respond", "10" )'
                                                      aria-label="Antworte auf Thomas">Antworten</a></div>
                            </article><!-- .comment-body -->
                            <ol class="children">
                                <li id="comment-3"
                                    class="comment byuser comment-author-steve45 bypostauthor odd alt depth-2">
                                    <article id="div-comment-3" class="comment-body">
                                        <footer class="comment-meta">
                                            <div class="comment-author vcard">
                                                <img alt="" src="Dateien/d444858f5001022932e99c8d52040843.jpg"
                                                     srcset="https://secure.gravatar.com/avatar/d444858f5001022932e99c8d52040843?s=148&amp;d=mm&amp;r=g 2x"
                                                     class="avatar avatar-74 photo" width="74" height="74"> <b
                                                    class="fn">steve45</b> <span class="says">sagt:</span></div>
                                            <!-- .comment-author -->

                                            <div class="comment-metadata">
                                                <a href="https://pinball-mods.de/2015/08/27/general-illumination-durch-rgb-leds-ersetzen/#comment-3">
                                                    <time datetime="2015-09-15T00:12:52+00:00">
                                                        15. September 2015 um 0:12
                                                    </time>
                                                </a>
                                            </div><!-- .comment-metadata -->

                                        </footer><!-- .comment-meta -->

                                        <div class="comment-content">
                                            <p>Hi Thomas,</p>
                                            <p>gut dass Du es erwähnst. Natürlich ist die LED Spannungsversorgung
                                                nicht einfach vom 5V Ausgang des Arduino abgezweigt. Die GI-RGB LEDs
                                                ziehen unter Vollast knapp 2A, damit wäre der Spannungsregler des
                                                Arduino schon geschrottet.</p>
                                            <p>Was ich immer mache, ist den Arduino direkt über die 5V Buchse mit
                                                einem 5V Netzteil zu versorgen. Das ist zwar auch von manchen Quellen
                                                kontrovers diskutiert und es wird empfohlen es doch über den USB Eingang
                                                zu machen. Aber letztendlich habe ich damit noch nie Probleme gehabt.
                                                Die simple Methode ist also beim Anschluss eines Netzteils mit 5,5/2,1
                                                Stecker den Spannungsregler des Arduino kurz zu schliessen und die +5V
                                                vom Stecker direkt mit der +5V Buchse zu verbinden.</p>
                                            <p>Wem der Strom über die Leiterbahnen selbst dann noch zu gross ist,
                                                der kann auch eine Litze direkt am Stecker der Arduino-Platine
                                                vorsehen.</p>
                                            <p>Gruß Steve</p>
                                        </div><!-- .comment-content -->

                </div><!-- #comments -->

            </div><!-- #content -->
        </div><!-- #primary -->


    </div><!-- #main -->
</div><!-- #page -->

</body>
</html>